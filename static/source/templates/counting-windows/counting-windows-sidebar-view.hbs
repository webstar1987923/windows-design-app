<button class="js-sidebar-toggle sidebar-toggle glyphicon glyphicon-forward"></button>

<h3>Counting Windows</h3>

<div>
    <div>
        <button class="js-preview-btn" style="height:32px; border-radius:5px;">Preview</button>            
    </div>
</div>
<div style="margin-top:10px;">
    <div style="float:left; margin-right:10px;">
        <input type="text" class="pageload" placeholder="1, 3-5, 7, ..."/>            
    </div>
    <div>
        <button class="js-loading-btn glyphicon glyphicon-refresh" title="Loading pages" style="height:32px; border-radius:5px;"></button>
    </div>
</div>    

<div class="tab-container">
    <ul class="nav nav-tabs">
    {{#each tabs }}
        <li class="{{ @index }} {{#if is_active }} active{{/if}}"><a href="#{{ @index }}">{{ title }}</a></li>
    {{/each}}
    </ul>
</div>

{{#if tabs.0.is_active }}
    <div class="counting-table">           
        <table>
            <thead>
                <tr>
                    <th>Page No</th>
                    <th>Page Name</th>
                </tr>
            </thead>
            <tbody>
                {{#each countpages}}                    
                    <tr class="counting-record counting-page {{#ifCond pagenum ../selectedpage.pagenum}} selected {{/ifCond}}" data-param="{{pagenum}}">                    
                        <td class="title">{{pagenum}}</td>
                        <td class="value">{{title}}</td>
                    </tr>
                {{/each}}
            </tbody>
        </table>        
    </div>
{{/if}}

{{#if tabs.1.is_active }}
    <div class="stamps-selector-controls">
        <div class="stamp-selector-select">
            <select class="selectpicker" title='Choose a Stamp'>
                {{#each stamps}}
                    <option value="{{ @index }}" {{#ifCond stamp ../lastSelectedStamp}} selected {{/ifCond}}><strong>{{ stamp }}</strong></option>
                {{/each}}
            </select>
        </div>

        <div class="stamps-selector-buttons">
            <button class="js-plus-stamp glyphicon glyphicon-plus-sign"></button>            
        </div>
    </div>

    <div class="counting-table">       
        <table>
            <thead>
                <tr>
                    <th>Stamp</th>
                    <th>Position (x , y)</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {{#each selectedpage.labels}}
                <tr class="counting-record">
                    <td class="title">{{stamp}}</td>
                    <td class="value">{{position.left}} , {{position.top}}</td>
                    <td> <a href="#" class="delete-stamp" data-param ="{{@index}}" >Delete</a></td>
                </tr>
                {{/each}}
            </tbody>
        </table>        
    </div>
{{/if}}

{{#if tabs.2.is_active }}
    <div class="stamps-selector-controls">
        <div class="stamp-selector-select">
            <input type="text" class="newLabel" placeholder="New Label Name ..." />            
        </div>
        <div class="stamps-selector-buttons">
            <button class="js-plus-label glyphicon glyphicon-plus-sign"></button>            
        </div>
    </div>

    <div class="counting-table">       
        <table>
            <thead>
                <tr>
                    <th>Label Name</th>
                    <th>Quantity</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {{#each stamps}}
                <tr class="counting-record">
                    <td class="title">{{stamp}}</td>
                    <td class="value">{{quantity}}</td>
                    <td> <a href="#" class='delete-label {{#ifCond quantity 0}} {{else}}  disabled-delete {{/ifCond}}' data-param ="{{stamp}}">Delete</a></td>
                </tr>
                {{/each}}
            </tbody>
        </table>        
    </div>
{{/if}}
